---
title: "GG Plot"
author: "Jessica Gorr"
output:
  html_document:
    code_folding: hide


---

<style type="text/css">

/* Table of content - navigation */
div#TOC li {
    list-style:none;
    background-color:skyblue;
    background-image:none;
    background-repeat:none;
    background-position:0;
    font-family: Arial, Helvetica, sans-serif;
    color: darkred;
}

h1.title {
  font-size: 24px;
  color: DarkRed;
  text-align: center;
}

h4.author { /* Header 4 - and the author and data headers use this too  */
    font-size: 18px;
  font-family: "Times New Roman", Times, serif;
  color: DarkRed;
  text-align: center;
}
h4.date { /* Header 4 - and the author and data headers use this too  */
  font-size: 18px;
  font-family: "Times New Roman", Times, serif;
  color: DarkBlue;
  text-align: center;
}
h1 { /* Header 3 - and the author and data headers use this too  */
    font-size: 22px;
    font-family: "Times New Roman", Times, serif;
    color: darkred;
    text-align: center;
}
h2 { /* Header 3 - and the author and data headers use this too  */
    font-size: 18px;
    font-family: "Times New Roman", Times, serif;
    color: navy;
    text-align: left;
}

h3 { /* Header 3 - and the author and data headers use this too  */
    font-size: 15px;
    font-family: "Times New Roman", Times, serif;
    color: navy;
    text-align: left;
}

h4 { /* Header 4 - and the author and data headers use this too  */
    font-size: 18px;
    font-family: "Times New Roman", Times, serif;
    color: darkred;
    text-align: left;
}
</style>

```{r setup, include=FALSE}
# code chunk specifies whether the R code, warnings, and output 
# will be included in the output files.
if (!require("tidyverse")) {
   install.packages("tidyverse")
   library(tidyverse)
}
if (!require("knitr")) {
   install.packages("knitr")
   library(knitr)
}
if (!require("cowplot")) {
   install.packages("cowplot")
   library(cowplot)
}
if (!require("latex2exp")) {
   install.packages("latex2exp")
   library(latex2exp)
}
if (!require("plotly")) {
   install.packages("plotly")
   library(plotly)
}
if (!require("gapminder")) {
   install.packages("gapminder")
   library(gapminder)
}
if (!require("png")) {
    install.packages("png")             # Install png package
    library("png")
}
if (!require("RCurl")) {
    install.packages("RCurl")             # Install RCurl package
    library("RCurl")
}
if (!require("colourpicker")) {
    install.packages("colourpicker")              
    library("colourpicker")
}
if (!require("gganimate")) {
    install.packages("gganimate")              
    library("gganimate")
}
if (!require("gifski")) {
    install.packages("gifski")              
    library("gifski")
}
if (!require("magick")) {
    install.packages("magick")              
    library("magick")
}
if (!require("grDevices")) {
    install.packages("grDevices")              
    library("grDevices")
}
if (!require("jpeg")) {
    install.packages("jpeg")              
    library("jpeg")
}
if (!require("VGAM")) {
    install.packages("VGAM")              
    library("VGAM")
}
if (!require("MASS")) {
    install.packages("MASS")              
    library("MASS")
}
if (!require("nnet")) {
    install.packages("nnet")              
    library("nnet")
}
if (!require("cluster")) {
    install.packages("cluster")              
    library("cluster")
}
# knitr::opts_knit$set(root.dir = "C:/Users/75CPENG/OneDrive - West Chester University of PA/Documents")
# knitr::opts_knit$set(root.dir = "C:\\STA490\\w05")

x <- getURL("https://jessgorr01.github.io/jGorrCV/wk5/datasets/countries_total.csv")
country_tot <- read.csv(text = x)

y <- getURL("https://jessgorr01.github.io/jGorrCV/wk5/datasets/income_per_person.csv")
income <- read.csv(text = y)

z <- getURL("https://jessgorr01.github.io/jGorrCV/wk5/datasets/life_expectancy_years.csv")
life_ex <- read.csv(text = z)


v <- getURL("https://jessgorr01.github.io/jGorrCV/wk5/datasets/population_total.csv")
pop_tot <- read.csv(text = v)

knitr::opts_chunk$set(echo = TRUE,       
                      warning = FALSE,   
                      result = TRUE,   
                      message = FALSE,
                      comment = NA)
```

# Jessica Gorr

GG Plot Assignment: World Life Expectancy

## Data Management

This dataset is based on a multitude of datasets to create "World Life Expectancy". This is based on merging and selecting variables from four specific datasets "Income per Person", "Life Expectancy in Years", "Population size", and "Country Regions". These are all possible factors that can have an impact on one's life expectancy in different areas of the world. The data was collected for the years of 1800-2018.


The following code chunk will complete these conditions:

a. Reshape data set: Income Per Person to make a longitudinal data such that the         resulting data set has three columns: country, year, and income.
b. Do the same for Life Expectancy in Years so that the resulting data set has three     columns: country, year, and life expectancy.
c. Merge/join the above two longitudinal data sets to make a new data set, under name     LifeExpIncom that has variables: country, year, lifeExp, and income.
d. Merge LifeExpIncom with country region so that the final data set has information     about income, life expectancy, and country region.
e. Merge the previous resulting data set with population size so that the final data     set has information about income, life expectancy, population size, and country        region. 

```{r, fig.align='center'}

##a
long_income <- income %>%
               pivot_longer(col= starts_with("X"),
                            names_to = "year",
                            values_to = "income")%>%
                rename_at('geo', ~'country')

##b
long_life <- life_ex %>%
               pivot_longer(col= starts_with("X"),
                            names_to = "year",
                            values_to = "life expectancy")%>%
                rename_at('geo', ~'country')

```


w
```
dataFiltered <- dataCleaned %>%
              filter((species == "Adelie" | species =="Gentoo") & (island == "Biscoe" | island == "Torgersen") )%>%
  mutate(BMI = body_mass_g/4000)%>% 
             filter(body_mass_g < 5000 & body_mass_g > 3500)%>%
  dplyr::select(-X,-sex,-year,-body_mass_g)

##c
LifeExpIncom <- dataCleaned %>%
              filter((species == "Adelie" | species =="Gentoo") & (island == "Biscoe" | island == "Torgersen") )%>%
  mutate(BMI = body_mass_g/4000)%>% 
             filter(body_mass_g < 5000 & body_mass_g > 3500)%>%
  dplyr::select(-X,-sex,-year,-body_mass_g)


2000data <- dataCleaned %>%
              filter((species == "Adelie" | species =="Gentoo") & (island == "Biscoe" | island == "Torgersen") )%>%
  mutate(BMI = body_mass_g/4000)%>% 
             filter(body_mass_g < 5000 & body_mass_g > 3500)%>%
  dplyr::select(-X,-sex,-year,-body_mass_g)
```  